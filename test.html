<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>List of Participants and Prizes</title>
  <link rel="stylesheet" href="test.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
<!-- Add this right after the opening <body> tag, before the navbar -->
<div class="tug-of-war-container">
  <div class="tug-of-war-left">
    <img src="https://hebbkx1anhila5yf.public.blob.vercel-storage.com/Tug%20of%20war%202-WN8rKmDfX4JbqrF9zl9IwETjxp3qjC.png" alt="Tug of War Player 2" class="tug-of-war-player">
  </div>
  <div class="tug-of-war-rope"></div>
  <div class="tug-of-war-right">
    <img src="https://hebbkx1anhila5yf.public.blob.vercel-storage.com/Tug-of-war-1-xMdEr6iVh2fdkCkCr7t5G5iaOK7z9j.png" alt="Tug of War Player 1" class="tug-of-war-player">
  </div>
</div>

<!-- Participant Details Popup -->
<div id="participant-popup" class="participant-popup">
  <div class="popup-content">
    <span class="close-popup" onclick="closeParticipantPopup()"><i class="fas fa-times"></i></span>
    
    <div class="popup-header">
      <div class="popup-banner"></div>
      <div class="popup-profile-section">
        <div class="popup-photo">
          <div class="photo-placeholder">
            <div class="photo-initial">J</div>
          </div>
        </div>
        <div class="popup-title">
          <h2 id="popup-name">Participant Name</h2>
          <div class="popup-team" id="popup-team">
            <i class="fas fa-users"></i> <span id="popup-team-name">Team Name</span>
          </div>
          <div class="participant-status">
            <span class="status-badge active" id="popup-status">Active</span>
          </div>
        </div>
      </div>
    </div>
    
    <div class="popup-tabs">
      <div class="tab active" data-tab="personal">Personal Info</div>
      <div class="tab" data-tab="academic">Academic</div>
      <div class="tab" data-tab="gaming">Gaming Profile</div>
      <div class="tab" data-tab="history">Competition History</div>
    </div>
    
    <div class="popup-body">
      <!-- Personal Info Tab (Default Active) -->
      <div class="tab-content active" id="personal-tab">
        <div class="detail-section">
          <h3><i class="fas fa-user"></i> Basic Information</h3>
          <div class="detail-grid">
            <div class="detail-item">
              <span class="detail-label" data-key="ageLabel">Age:</span>
              <span class="detail-value" id="popup-age">21</span>
            </div>
            <div class="detail-item">
              <span class="detail-label" data-key="birthdayLabel">Birthday:</span>
              <span class="detail-value" id="popup-birthday">January 15, 2002</span>
            </div>
            <div class="detail-item">
              <span class="detail-label" data-key="genderLabel">Gender:</span>
              <span class="detail-value" id="popup-gender">Male</span>
            </div>
            <div class="detail-item">
              <span class="detail-label" data-key="nationalityLabel">Nationality:</span>
              <span class="detail-value" id="popup-nationality">United States</span>
            </div>
          </div>
        </div>
        
        <div class="detail-section">
          <h3><i class="fas fa-address-card"></i> Contact Information</h3>
          <div class="detail-grid">
            <div class="detail-item">
              <span class="detail-label" data-key="emailLabel">Email:</span>
              <span class="detail-value" id="popup-email">john.doe@example.com</span>
            </div>
            <div class="detail-item">
              <span class="detail-label" data-key="phoneLabel">Phone:</span>
              <span class="detail-value" id="popup-phone">+1 (555) 123-4567</span>
            </div>
            <div class="detail-item">
              <span class="detail-label" data-key="addressLabel">Address:</span>
              <span class="detail-value" id="popup-address">123 Main St, Anytown, CA 12345</span>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Academic Tab -->
      <div class="tab-content" id="academic-tab">
        <div class="detail-section">
          <h3><i class="fas fa-graduation-cap"></i> Education</h3>
          <div class="detail-grid">
            <div class="detail-item">
              <span class="detail-label" data-key="universityLabel">University:</span>
              <span class="detail-value" id="popup-university">State University</span>
            </div>
            <div class="detail-item">
              <span class="detail-label" data-key="specialityLabel">Speciality:</span>
              <span class="detail-value" id="popup-speciality">Computer Science</span>
            </div>
            <div class="detail-item">
              <span class="detail-label" data-key="yearLabel">Year:</span>
              <span class="detail-value" id="popup-year">3rd Year</span>
            </div>
            <div class="detail-item">
              <span class="detail-label" data-key="gpaLabel">GPA:</span>
              <span class="detail-value" id="popup-gpa">3.8/4.0</span>
            </div>
          </div>
        </div>
        
        <div class="detail-section">
          <h3><i class="fas fa-certificate"></i> Certifications</h3>
          <div class="certifications-list" id="popup-certifications">
            <div class="certification-item">
              <div class="certification-name">AWS Certified Developer</div>
              <div class="certification-date">Obtained: June 2023</div>
            </div>
            <div class="certification-item">
              <div class="certification-name">Microsoft Azure Fundamentals</div>
              <div class="certification-date">Obtained: March 2023</div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Gaming Profile Tab -->
      <div class="tab-content" id="gaming-tab">
        <div class="detail-section">
          <h3><i class="fas fa-gamepad"></i> Gaming Experience</h3>
          <div class="detail-grid">
            <div class="detail-item">
              <span class="detail-label" data-key="experienceLabel">Experience:</span>
              <span class="detail-value" id="popup-experience">5 years</span>
            </div>
            <div class="detail-item">
              <span class="detail-label" data-key="platformLabel">Platform:</span>
              <span class="detail-value" id="popup-platform">PC, PlayStation</span>
            </div>
            <div class="detail-item">
              <span class="detail-label" data-key="rankLabel">Current Rank:</span>
              <span class="detail-value" id="popup-rank">Diamond</span>
            </div>
          </div>
        </div>
        
        <div class="detail-section">
          <h3><i class="fas fa-trophy"></i> Top Games</h3>
          <div class="games-list" id="popup-games">
            <div class="game-item">
              <div class="game-name">League of Legends</div>
              <div class="game-rank">Rank: Diamond II</div>
              <div class="game-hours">1200+ hours</div>
            </div>
            <div class="game-item">
              <div class="game-name">Valorant</div>
              <div class="game-rank">Rank: Immortal</div>
              <div class="game-hours">800+ hours</div>
            </div>
            <div class="game-item">
              <div class="game-name">Counter-Strike 2</div>
              <div class="game-rank">Rank: Global Elite</div>
              <div class="game-hours">1500+ hours</div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Competition History Tab -->
      <div class="tab-content" id="history-tab">
        <div class="detail-section">
          <h3><i class="fas fa-history"></i> Previous Competitions</h3>
          <div class="history-list" id="popup-history">
            <div class="history-item">
              <div class="history-title">Summer Gaming Championship 2023</div>
              <div class="history-placement">Placement: 2nd Place</div>
              <div class="history-date">August 2023</div>
            </div>
            <div class="history-item">
              <div class="history-title">Regional Esports Tournament</div>
              <div class="history-placement">Placement: 1st Place</div>
              <div class="history-date">May 2023</div>
            </div>
            <div class="history-item">
              <div class="history-title">University Gaming League</div>
              <div class="history-placement">Placement: 3rd Place</div>
              <div class="history-date">February 2023</div>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <div class="popup-footer">
      <button class="btn view-profile-btn" data-key="viewProfileBtn">
        <i class="fas fa-user-circle"></i> View Full Profile
      </button>
      <button class="btn message-btn" data-key="messageBtn">
        <i class="fas fa-envelope"></i> Message
      </button>
      <button class="btn reject-btn" data-key="rejectBtn" onclick="showRejectReasonFromPopup()">
        <i class="fas fa-ban"></i> Reject
      </button>
    </div>
  </div>
</div>

<!-- ===== NAVBAR (Same as compPage) ===== -->
<header class="top-nav">
  <div class="nav-left">
    <img src="../loginPage/logoBlackPNG.png" alt="Logo" class="nav-logo">
    <h1 class="nav-title" data-key="compPageTitle">Competitions</h1>
  </div>
  <div class="nav-right">
    <div class="nav-links">
      <a href="requestsPage.html" class="nav-link">
        <div class="card">
          <li data-key="participationApps">Participation applications</li>
        </div>
      </a>

      <a href="listOfPPpage.html" class="nav-link active">
        <div class="card">
          <li data-key="participantsList">List of participants</li>
        </div>
      </a>
      
      <a href="listOfPPpage.html" class="nav-link">
        <div class="card">
          <li data-key="prizesList">List of prizes</li>
        </div>
      </a>
      
      <a href="planPage.html" class="nav-link">
        <div class="card">
          <li data-key="matchTiming">Match timing</li>
        </div>
      </a>
      
      <a href="pointsPage.html" class="nav-link">
        <div class="card">
          <li data-key="qualifiers">Qualifiers</li>
        </div>
      </a>
      
      <a href="planPage.html" class="nav-link">
        <div class="card">
          <li data-key="availableGames">Available games</li>
        </div>
      </a>
    </div>
    <div class="search-container">
      <input 
        type="text" 
        class="search-input" 
        placeholder="Search..." 
        data-key="searchPlaceholder"
      />
      <i class="fas fa-search search-icon"></i>
    </div>
    <div class="language-switch">
      <span id="english-option" onclick="setLanguageWithHighlight('en')" class="active">English</span>
      <span id="arabic-option" onclick="setLanguageWithHighlight('ar')">العربية</span>
    </div>
  </div>
</header>
<!-- ===== END NAVBAR ===== -->

<!-- Main Container -->
<div class="container">
  <!-- Left Section: List of Prizes -->
  <div class="prizes-section">
    <h2 class="section-title" data-key="prizesList">
      <i class="fas fa-trophy"></i> List of Prizes
    </h2>
    
    <div class="prizes-list">
      <div class="prize-item">
        <div class="prize-medal gold">1</div>
        <div class="prize-content">
          <span class="prize-rank" data-key="firstPlace">1st Place:</span>
          <span class="prize-description">Gold Trophy + $1000</span>
        </div>
      </div>
      <div class="prize-item">
        <div class="prize-medal silver">2</div>
        <div class="prize-content">
          <span class="prize-rank" data-key="secondPlace">2nd Place:</span>
          <span class="prize-description">Silver Trophy + $500</span>
        </div>
      </div>
      <div class="prize-item">
        <div class="prize-medal bronze">3</div>
        <div class="prize-content">
          <span class="prize-rank" data-key="thirdPlace">3rd Place:</span>
          <span class="prize-description">Bronze Trophy + $250</span>
        </div>
      </div>
      <div class="prize-item">
        <div class="prize-medal honorable">4</div>
        <div class="prize-content">
          <span class="prize-rank" data-key="fourthPlace">4th Place:</span>
          <span class="prize-description">Certificate + $100</span>
        </div>
      </div>
      <div class="prize-item">
        <div class="prize-medal honorable">5</div>
        <div class="prize-content">
          <span class="prize-rank" data-key="fifthPlace">5th Place:</span>
          <span class="prize-description">Certificate + $50</span>
        </div>
      </div>
    </div>
    
    <div class="prize-buttons">
      <button class="btn delete-btn" data-key="deleteBtn">
        <i class="fas fa-trash-alt"></i> Delete
      </button>
      <button class="btn add-btn" data-key="addBtn">
        <i class="fas fa-plus"></i> Add
      </button>
      <button class="btn edit-btn" data-key="editBtn">
        <i class="fas fa-edit"></i> Edit
      </button>
    </div>
  </div>
  
  <!-- Right Section: List of Participants -->
  <div class="participants-section">
    <h2 class="section-title" data-key="participantsList">
      <i class="fas fa-users"></i> List of Participants
    </h2>
    
    <div class="participants-controls">
      <div class="filter-options">
        <select class="filter-select" id="team-filter">
          <option value="all">All Teams</option>
          <option value="Team Alpha">Team Alpha</option>
          <option value="Team Beta">Team Beta</option>
          <option value="Team Gamma">Team Gamma</option>
          <!-- Add more teams as needed -->
        </select>
        <select class="filter-select" id="status-filter">
          <option value="all">All Statuses</option>
          <option value="active">Active</option>
          <option value="pending">Pending</option>
          <option value="rejected">Rejected</option>
        </select>
      </div>
      <div class="search-participants">
        <input type="text" placeholder="Search participants..." id="participant-search">
        <i class="fas fa-search"></i>
      </div>
    </div>
    
    <div class="participants-table">
      <div class="table-header">
        <div class="header-cell" data-key="teamName">
          <i class="fas fa-users"></i> Team Name
          <i class="fas fa-sort sort-icon"></i>
        </div>
        <div class="header-cell" data-key="participantName">
          <i class="fas fa-user"></i> Participant Name
          <i class="fas fa-sort sort-icon"></i>
        </div>
        <div class="header-cell" data-key="status">
          <i class="fas fa-info-circle"></i> Status
          <i class="fas fa-sort sort-icon"></i>
        </div>
        <div class="header-cell" data-key="actions">
          <i class="fas fa-cog"></i> Actions
        </div>
      </div>
      
      <!-- Original participants -->
      <div class="table-row" onclick="showParticipantPopup(1)">
        <div class="table-cell">Team Alpha</div>
        <div class="table-cell participant-name">
          <div class="participant-avatar">J</div>
          John Doe
        </div>
        <div class="table-cell">
          <span class="status-badge active">Active</span>
        </div>
        <div class="table-cell actions">
          <button class="action-btn view-btn" title="View Details" onclick="showParticipantPopup(1); event.stopPropagation();">
            <i class="fas fa-eye"></i>
          </button>
          <button class="action-btn message-btn" title="Send Message" onclick="event.stopPropagation();">
            <i class="fas fa-envelope"></i>
          </button>
          <button class="action-btn reject-btn" title="Reject Participant" data-key="rejectBtn" onclick="showRejectReason(1); event.stopPropagation();">
            <i class="fas fa-ban"></i>
          </button>
        </div>
      </div>
      
      <div class="table-row" onclick="showParticipantPopup(2)">
        <div class="table-cell">Team Beta</div>
        <div class="table-cell participant-name">
          <div class="participant-avatar">J</div>
          Jane Smith
        </div>
        <div class="table-cell">
          <span class="status-badge active">Active</span>
        </div>
        <div class="table-cell actions">
          <button class="action-btn view-btn" title="View Details" onclick="showParticipantPopup(2); event.stopPropagation();">
            <i class="fas fa-eye"></i>
          </button>
          <button class="action-btn message-btn" title="Send Message" onclick="event.stopPropagation();">
            <i class="fas fa-envelope"></i>
          </button>
          <button class="action-btn reject-btn" title="Reject Participant" data-key="rejectBtn" onclick="showRejectReason(2); event.stopPropagation();">
            <i class="fas fa-ban"></i>
          </button>
        </div>
      </div>
      
      <div class="table-row" onclick="showParticipantPopup(3)">
        <div class="table-cell">Team Gamma</div>
        <div class="table-cell participant-name">
          <div class="participant-avatar">A</div>
          Alex Johnson
        </div>
        <div class="table-cell">
          <span class="status-badge pending">Pending</span>
        </div>
        <div class="table-cell actions">
          <button class="action-btn view-btn" title="View Details" onclick="showParticipantPopup(3); event.stopPropagation();">
            <i class="fas fa-eye"></i>
          </button>
          <button class="action-btn message-btn" title="Send Message" onclick="event.stopPropagation();">
            <i class="fas fa-envelope"></i>
          </button>
          <button class="action-btn reject-btn" title="Reject Participant" data-key="rejectBtn" onclick="showRejectReason(3); event.stopPropagation();">
            <i class="fas fa-ban"></i>
          </button>
        </div>
      </div>
      
      <!-- Additional participants -->
      <div class="table-row" onclick="showParticipantPopup(4)">
        <div class="table-cell">Phoenix Flames</div>
        <div class="table-cell participant-name">
          <div class="participant-avatar">M</div>
          Michael Chen
        </div>
        <div class="table-cell">
          <span class="status-badge active">Active</span>
        </div>
        <div class="table-cell actions">
          <button class="action-btn view-btn" title="View Details" onclick="showParticipantPopup(4); event.stopPropagation();">
            <i class="fas fa-eye"></i>
          </button>
          <button class="action-btn message-btn" title="Send Message" onclick="event.stopPropagation();">
            <i class="fas fa-envelope"></i>
          </button>
          <button class="action-btn reject-btn" title="Reject Participant" data-key="rejectBtn" onclick="showRejectReason(4); event.stopPropagation();">
            <i class="fas fa-ban"></i>
          </button>
        </div>
      </div>
      
      <div class="table-row" onclick="showParticipantPopup(5)">
        <div class="table-cell">Midnight Raiders</div>
        <div class="table-cell participant-name">
          <div class="participant-avatar">S</div>
          Sarah Williams
        </div>
        <div class="table-cell">
          <span class="status-badge active">Active</span>
        </div>
        <div class="table-cell actions">
          <button class="action-btn view-btn" title="View Details" onclick="showParticipantPopup(5); event.stopPropagation();">
            <i class="fas fa-eye"></i>
          </button>
          <button class="action-btn message-btn" title="Send Message" onclick="event.stopPropagation();">
            <i class="fas fa-envelope"></i>
          </button>
          <button class="action-btn reject-btn" title="Reject Participant" data-key="rejectBtn" onclick="showRejectReason(5); event.stopPropagation();">
            <i class="fas fa-ban"></i>
          </button>
        </div>
      </div>
      
      <!-- Add more participants as needed -->
      
      <!-- Pagination -->
      <div class="pagination">
        <button class="pagination-btn" disabled><i class="fas fa-chevron-left"></i></button>
        <button class="pagination-btn active">1</button>
        <button class="pagination-btn">2</button>
        <button class="pagination-btn">3</button>
        <button class="pagination-btn">4</button>
        <button class="pagination-btn"><i class="fas fa-chevron-right"></i></button>
      </div>
    </div>
    
    <!-- Rejection Reason Section (Hidden by default) -->
    <div id="rejection-reason-container" class="rejection-reason-container hidden">
      <h3 data-key="rejectionReason"><i class="fas fa-exclamation-triangle"></i> Reason for Rejection</h3>
      <textarea id="rejection-text" placeholder="Enter reason for rejection"></textarea>
      <div class="rejection-buttons">
        <button class="btn confirm-btn" data-key="confirmBtn" onclick="confirmRejection()">
          <i class="fas fa-check"></i> Confirm
        </button>
        <button class="btn cancel-btn" data-key="cancelBtn" onclick="hideRejectReason()">
          <i class="fas fa-times"></i> Cancel
        </button>
      </div>
    </div>
  </div>
</div>

<!-- JavaScript -->
<script src="../loginPage/translations.js"></script>
<script>
  // Extended participant data (mock data)
  const participantsData = [
    { 
      id: 1, 
      name: "John Doe", 
      team: "Team Alpha", 
      age: 21, 
      birthday: "January 15, 2002", 
      gender: "Male", 
      nationality: "United States",
      email: "john.doe@example.com",
      phone: "+1 (555) 123-4567",
      address: "123 Main St, Anytown, CA 12345",
      university: "State University",
      speciality: "Computer Science",
      year: "3rd Year",
      gpa: "3.8/4.0",
      experience: "5 years",
      platform: "PC, PlayStation",
      rank: "Diamond",
      status: "active",
      certifications: [
        { name: "AWS Certified Developer", date: "June 2023" },
        { name: "Microsoft Azure Fundamentals", date: "March 2023" }
      ],
      games: [
        { name: "League of Legends", rank: "Diamond II", hours: "1200+" },
        { name: "Valorant", rank: "Immortal", hours: "800+" },
        { name: "Counter-Strike 2", rank: "Global Elite", hours: "1500+" }
      ],
      history: [
        { title: "Summer Gaming Championship 2023", placement: "2nd Place", date: "August 2023" },
        { title: "Regional Esports Tournament", placement: "1st Place", date: "May 2023" },
        { title: "University Gaming League", placement: "3rd Place", date: "February 2023" }
      ]
    },
    { 
      id: 2, 
      name: "Jane Smith", 
      team: "Team Beta", 
      age: 22, 
      birthday: "March 8, 2001", 
      gender: "Female", 
      nationality: "Canada",
      email: "jane.smith@example.com",
      phone: "+1 (555) 987-6543",
      address: "456 Oak Ave, Toronto, ON M5V 2H1",
      university: "Toronto University",
      speciality: "Electrical Engineering",
      year: "4th Year",
      gpa: "3.9/4.0",
      experience: "4 years",
      platform: "PC, Xbox",
      rank: "Master",
      status: "active",
      certifications: [
        { name: "CompTIA A+", date: "July 2023" },
        { name: "Cisco CCNA", date: "April 2023" }
      ],
      games: [
        { name: "Overwatch 2", rank: "Grandmaster", hours: "1500+" },
        { name: "Apex Legends", rank: "Predator", hours: "1200+" },
        { name: "Fortnite", rank: "Champion League", hours: "900+" }
      ],
      history: [
        { title: "Canadian Gaming Open", placement: "1st Place", date: "September 2023" },
        { title: "North American Championship", placement: "3rd Place", date: "June 2023" },
        { title: "University Tournament", placement: "1st Place", date: "March 2023" }
      ]
    },
    // Add more detailed participant data for the remaining participants
    { 
      id: 3, 
      name: "Alex Johnson", 
      team: "Team Gamma", 
      age: 20, 
      birthday: "July 22, 2003", 
      gender: "Male", 
      nationality: "United Kingdom",
      email: "alex.johnson@example.com",
      phone: "+44 20 1234 5678",
      address: "789 High Street, London, SW1A 1AA",
      university: "London University",
      speciality: "Mechanical Engineering",
      year: "2nd Year",
      gpa: "3.7/4.0",
      experience: "3 years",
      platform: "PC, PlayStation, Switch",
      rank: "Platinum",
      status: "pending",
      certifications: [
        { name: "Unity Certified Developer", date: "May 2023" },
        { name: "Unreal Engine Certification", date: "February 2023" }
      ],
      games: [
        { name: "Rocket League", rank: "Champion III", hours: "1000+" },
        { name: "Rainbow Six Siege", rank: "Platinum I", hours: "800+" },
        { name: "FIFA 23", rank: "Division 1", hours: "600+" }
      ],
      history: [
        { title: "European Gaming Cup", placement: "4th Place", date: "July 2023" },
        { title: "UK National Tournament", placement: "2nd Place", date: "April 2023" },
        { title: "University Championship", placement: "1st Place", date: "January 2023" }
      ]
    },
    // Continue with more participants...
  ];
  
  // Current participant being rejected
  let currentParticipantId = null;
  
  // Show participant popup with enhanced details
  function showParticipantPopup(participantId) {
    const participant = participantsData.find(p => p.id === participantId);
    if (!participant) return;
    
    // Update popup content - Basic info
    document.getElementById('popup-name').textContent = participant.name;
    document.getElementById('popup-team-name').textContent = participant.team;
    document.getElementById('popup-status').textContent = participant.status.charAt(0).toUpperCase() + participant.status.slice(1);
    document.getElementById('popup-status').className = `status-badge ${participant.status}`;
    
    // Personal info tab
    document.getElementById('popup-age').textContent = participant.age;
    document.getElementById('popup-birthday').textContent = participant.birthday;
    document.getElementById('popup-gender').textContent = participant.gender;
    document.getElementById('popup-nationality').textContent = participant.nationality;
    document.getElementById('popup-email').textContent = participant.email;
    document.getElementById('popup-phone').textContent = participant.phone;
    document.getElementById('popup-address').textContent = participant.address;
    
    // Academic tab
    document.getElementById('popup-university').textContent = participant.university;
    document.getElementById('popup-speciality').textContent = participant.speciality;
    document.getElementById('popup-year').textContent = participant.year;
    document.getElementById('popup-gpa').textContent = participant.gpa;
    
    // Update certifications
    const certificationsContainer = document.getElementById('popup-certifications');
    certificationsContainer.innerHTML = '';
    participant.certifications.forEach(cert => {
      const certItem = document.createElement('div');
      certItem.className = 'certification-item';
      certItem.innerHTML = `
        <div class="certification-name">${cert.name}</div>
        <div class="certification-date">Obtained: ${cert.date}</div>
      `;
      certificationsContainer.appendChild(certItem);
    });
    
    // Update games
    const gamesContainer = document.getElementById('popup-games');
    gamesContainer.innerHTML = '';
    participant.games.forEach(game => {
      const gameItem = document.createElement('div');
      gameItem.className = 'game-item';
      gameItem.innerHTML = `
        <div class="game-name">${game.name}</div>
        <div class="game-rank">Rank: ${game.rank}</div>
        <div class="game-hours">${game.hours} hours</div>
      `;
      gamesContainer.appendChild(gameItem);
    });
    
    // Update competition history
    const historyContainer = document.getElementById('popup-history');
    historyContainer.innerHTML = '';
    participant.history.forEach(hist => {
      const histItem = document.createElement('div');
      histItem.className = 'history-item';
      histItem.innerHTML = `
        <div class="history-title">${hist.title}</div>
        <div class="history-placement">Placement: ${hist.placement}</div>
        <div class="history-date">${hist.date}</div>
      `;
      historyContainer.appendChild(histItem);
    });
    
    // Set photo initial
    document.querySelector('.photo-initial').textContent = participant.name.charAt(0);
    
    // Set random banner color
    const colors = ['#4a90e2', '#50c878', '#9370db', '#ff7f50', '#20b2aa'];
    const randomColor = colors[Math.floor(Math.random() * colors.length)];
    document.querySelector('.popup-banner').style.backgroundColor = randomColor;
    
    // Store current participant ID
    currentParticipantId = participantId;
    
    // Show popup with animation
    const popup = document.getElementById('participant-popup');
    popup.classList.add('show');
    
    // Add blur effect to background
    document.querySelector('.container').classList.add('blur-background');
    
    // Set first tab as active
    document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
    document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
    document.querySelector('.tab[data-tab="personal"]').classList.add('active');
    document.getElementById('personal-tab').classList.add('active');
  }
  
  // Tab switching functionality
  document.querySelectorAll('.tab').forEach(tab => {
    tab.addEventListener('click', function() {
      // Remove active class from all tabs and content
      document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
      document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
      
      // Add active class to clicked tab
      this.classList.add('active');
      
      // Show corresponding content
      const tabName = this.getAttribute('data-tab');
      document.getElementById(`${tabName}-tab`).classList.add('active');
    });
  });
  
  // Close participant popup
  function closeParticipantPopup() {
    const popup = document.getElementById('participant-popup');
    popup.classList.remove('show');
    
    // Remove blur effect from background
    document.querySelector('.container').classList.remove('blur-background');
  }
  
  // Show rejection reason from popup
  function showRejectReasonFromPopup() {
    closeParticipantPopup();
    showRejectReason(currentParticipantId);
  }
  
  // Show rejection reason textarea
  function showRejectReason(participantId) {
    currentParticipantId = participantId;
    document.getElementById('rejection-reason-container').classList.remove('hidden');
    document.getElementById('rejection-text').focus();
  }
  
  // Hide rejection reason textarea
  function hideRejectReason() {
    document.getElementById('rejection-reason-container').classList.add('hidden');
    document.getElementById('rejection-text').value = '';
    currentParticipantId = null;
  }
  
  // Confirm rejection
  function confirmRejection() {
    const reason = document.getElementById('rejection-text').value;
    if (reason.trim() === '') {
      alert('Please provide a reason for rejection');
      return;
    }
    
    // Here you would typically send this data to your server
    console.log(`Rejected participant ${currentParticipantId} with reason: ${reason}`);
    
    // Update participant status in the UI
    const rows = document.querySelectorAll('.table-row');
    if (currentParticipantId <= rows.length) {
      const statusCell = rows[currentParticipantId - 1].querySelector('.status-badge');
      statusCell.textContent = 'Rejected';
      statusCell.className = 'status-badge rejected';
      
      // Update in data
      const participant = participantsData.find(p => p.id === currentParticipantId);
      if (participant) {
        participant.status = 'rejected';
      }
    }
    
    hideRejectReason();
    
    // Show confirmation toast
    showToast(`Participant ${currentParticipantId} has been rejected`);
  }
  
  // Show toast notification
  function showToast(message) {
    // Create toast element if it doesn't exist
    if (!document.querySelector('.toast')) {
      const toast = document.createElement('div');
      toast.className = 'toast';
      document.body.appendChild(toast);
    }
    
    const toast = document.querySelector('.toast');
    toast.textContent = message;
    toast.classList.add('show');
    
    // Hide toast after 3 seconds
    setTimeout(() => {
      toast.classList.remove('show');
    }, 3000);
  }
  
  // Search functionality
  document.getElementById('participant-search').addEventListener('input', function() {
    const searchTerm = this.value.toLowerCase();
    const rows = document.querySelectorAll('.table-row');
    
    rows.forEach(row => {
      const teamName = row.querySelector('.table-cell:first-child').textContent.toLowerCase();
      const participantName = row.querySelector('.participant-name').textContent.toLowerCase();
      
      if (teamName.includes(searchTerm) || participantName.includes(searchTerm)) {
        row.style.display = '';
      } else {
        row.style.display = 'none';
      }
    });
  });
  
  // Filter functionality
  document.getElementById('team-filter').addEventListener('change', function() {
    filterParticipants();
  });
  
  document.getElementById('status-filter').addEventListener('change', function() {
    filterParticipants();
  });
  
  function filterParticipants() {
    const teamFilter = document.getElementById('team-filter').value;
    const statusFilter = document.getElementById('status-filter').value;
    const rows = document.querySelectorAll('.table-row');
    
    rows.forEach(row => {
      const teamName = row.querySelector('.table-cell:first-child').textContent;
      const status = row.querySelector('.status-badge').textContent.toLowerCase();
      
      const teamMatch = teamFilter === 'all' || teamName === teamFilter;
      const statusMatch = statusFilter === 'all' || status === statusFilter;
      
      if (teamMatch && statusMatch) {
        row.style.display = '';
      } else {
        row.style.display = 'none';
      }
    });
  }
  
  // Sorting functionality
  document.querySelectorAll('.header-cell .sort-icon').forEach(icon => {
    icon.addEventListener('click', function() {
      const headerCell = this.parentElement;
      const columnIndex = Array.from(headerCell.parentElement.children).indexOf(headerCell);
      const isAscending = this.classList.contains('fa-sort-up');
      
      // Update sort icons
      document.querySelectorAll('.sort-icon').forEach(i => {
        i.className = 'fas fa-sort sort-icon';
      });
      
      this.className = `fas fa-sort-${isAscending ? 'down' : 'up'} sort-icon`;
      
      // Sort the rows
      const rows = Array.from(document.querySelectorAll('.table-row'));
      const sortedRows = rows.sort((a, b) => {
        const aValue = a.children[columnIndex].textContent.trim();
        const bValue = b.children[columnIndex].textContent.trim();
        
        if (isAscending) {
          return aValue.localeCompare(bValue);
        } else {
          return bValue.localeCompare(aValue);
        }
      });
      
      // Re-append sorted rows
      const table = document.querySelector('.participants-table');
      sortedRows.forEach(row => {
        table.appendChild(row);
      });
    });
  });
  
  function setLanguageWithHighlight(lang) {
    // Save selected language
    localStorage.setItem('lang', lang);
    
    // Update UI language
    const elements = document.querySelectorAll('[data-key]');
    elements.forEach(element => {
      const key = element.getAttribute('data-key');
      if (translations[lang] && translations[lang][key]) {
        element.textContent = translations[lang][key];
      }
    });
    
    // Update text direction
    document.body.dir = lang === 'ar' ? 'rtl' : 'ltr';
    
    // Highlight selected language
    document.getElementById('english-option').classList.toggle('active', lang === 'en');
    document.getElementById('arabic-option').classList.toggle('active', lang === 'ar');
  }
  
  // On page load, set saved or default language
  document.addEventListener('DOMContentLoaded', () => {
    const savedLang = localStorage.getItem('lang') || 'en';
    setLanguageWithHighlight(savedLang);
    
    // Add hover effect to table rows
    const tableRows = document.querySelectorAll('.table-row');
    tableRows.forEach(row => {
      row.addEventListener('mouseenter', function() {
        this.classList.add('row-hover');
      });
      row.addEventListener('mouseleave', function() {
        this.classList.remove('row-hover');
      });
    });
    
    // Add animation to table rows
    tableRows.forEach((row, index) => {
      row.style.animationDelay = `${index * 0.05}s`;
    });
  });
</script>
<script>
document.addEventListener('DOMContentLoaded', function() {
  const leftPlayer = document.querySelector('.tug-of-war-left');
  const rightPlayer = document.querySelector('.tug-of-war-right');
  const rope = document.querySelector('.tug-of-war-rope');
  
  // Variables to track the tug-of-war state
  let tugPosition = 0; // 0 means neutral, negative means left is winning, positive means right is winning
  const maxTug = 100; // Maximum pull in either direction
  
  // Initial vertical position (middle of the page)
  let verticalPosition = window.innerHeight / 2;
  
  // Handle scroll effect
  window.addEventListener('scroll', function() {
    // Calculate how far down the page we've scrolled as a percentage
    const scrollPercentage = window.scrollY / (document.body.scrollHeight - window.innerHeight);
    
    // Move players horizontally based on scroll position
    const scrollOffset = scrollPercentage * 30; // Max 30px horizontal movement
    
    // Move players vertically based on scroll position
    // This will make them move up and down as you scroll
    const verticalOffset = 100 + (scrollPercentage * 300); // Vertical movement range
    
    leftPlayer.style.transform = `translateX(${50 + scrollOffset - tugPosition/2}px) translateY(${verticalOffset}px)`;
    rightPlayer.style.transform = `translateX(${-50 - scrollOffset + tugPosition/2}px) translateY(${verticalOffset}px)`;
    
    // Make the rope follow the players
    rope.style.transform = `translateY(${verticalOffset}px)`;
    
    // Make the rope slightly longer or shorter based on scroll
    const baseRopeWidth = 100 - 300; // Base width minus player widths
    const ropeStretch = 20 * Math.sin(scrollPercentage * Math.PI); // Oscillate between -20 and 20px
    rope.style.width = `calc(${baseRopeWidth}% + ${ropeStretch}px)`;
  });
  
  // Handle mouse movement
  document.addEventListener('mousemove', function(e) {
    // Calculate mouse position relative to center of screen
    const mouseX = e.clientX;
    const windowCenter = window.innerWidth / 2;
    const mouseOffset = (mouseX - windowCenter) / windowCenter; // -1 to 1
    
    // Update tug position based on mouse position
    // The further from center, the stronger the pull
    tugPosition = mouseOffset * maxTug;
    
    // Get current vertical position from transform
    const currentTransform = leftPlayer.style.transform || '';
    const verticalMatch = currentTransform.match(/translateY$$([^)]+)$$/);
    const currentVertical = verticalMatch ? verticalMatch[1] : '0px';
    
    // Apply the tug effect while maintaining vertical position
    leftPlayer.style.transform = `translateX(${50 - tugPosition/2}px) translateY(${currentVertical})`;
    rightPlayer.style.transform = `translateX(${-50 + tugPosition/2}px) translateY(${currentVertical})`;
    
    // Make players lean based on tug direction
    leftPlayer.style.rotate = `${-tugPosition/10}deg`;
    rightPlayer.style.rotate = `${tugPosition/10}deg`;
    
    // Update rope tension visually
    const baseRopeWidth = 100 - 300;
    const ropeTension = Math.abs(tugPosition) / 2; // Rope gets shorter as tension increases
    rope.style.width = `calc(${baseRopeWidth}% - ${ropeTension}px)`;
  });
  
  // Add a subtle animation to make it feel alive even when not interacting
  function breathingAnimation() {
    const time = Date.now() / 1000;
    const breathe = Math.sin(time) * 5;
    
    // Only apply breathing animation if not actively tugging
    if (Math.abs(tugPosition) < 5) {
      // Get current vertical position from transform
      const leftTransform = leftPlayer.style.transform || '';
      const verticalMatch = leftTransform.match(/translateY$$([^)]+)$$/);
      const currentVertical = verticalMatch ? verticalMatch[1] : '0px';
      
      leftPlayer.style.transform = `translateX(${50 + breathe}px) translateY(${currentVertical})`;
      rightPlayer.style.transform = `translateX(${-50 - breathe}px) translateY(${currentVertical})`;
    }
    
    requestAnimationFrame(breathingAnimation);
  }
  
  breathingAnimation();
});
</script>
</body>
</html>